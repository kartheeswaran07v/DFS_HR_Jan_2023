{% extends 'bootstrap/base.html' %}
{% import "bootstrap/wtf.html" as wtf %}

{% block content %}
{% include "header.html" %}



  <div class="welcome">
    <span>Dashfix | <a href="{{url_for('home')}}">Home</a></span>
    <span>Welcome: xyz123</span>
  </div>

  <form action="/roster" method="post">
    <h2>Roster ||| <label for="datepicker">Date:</label> <input type="text" id="datepicker" name="date" value="{{ date_roster }}" readonly></h2>


    <div id="masterDiv">
      <div>
        <div id="hotelChild1" class="hotel">
          <!-- Time sheet details -->
          <div class="firstDet row">

            <div class="col-lg-2 con1">
              <label for="hotel">Hotel: </label>
            </div>
            <div class="col-lg-2">
              <select name="hotel" id="hotel">
                {% for i in data[1] %}
                <option value="{{i.id}}">{{i.name}}</option>
                {% endfor %}
              </select>
            </div>
          </div>

          <!-- entry rows -->
          <div class="item row">
            <div class="col-lg-2 con1">
              <label for="name1">Name: </label>
            </div>
            <div class="col-lg-2">
              <select name="name1" id="name1">
                {% for i in data[0] %}
                <option value="{{i.id}}">{{i.name}}</option>
                {% endfor %}
              </select>
            </div>
            <div class="col-lg-2 con1">
              <label for="timeInA1">Time In 1: </label>
            </div>
            <div class="col-lg-2">
              <input type="number" id="timeInA1" name="timeInA1" value=0>
            </div>
            <div class="col-lg-2 con1">
              <label for="timeOutA1">Time Out 1:</label>
            </div>
            <div class="col-lg-2">
              <input type="number" id="timeOutA1" name="timeOutA1" value=0>
            </div>
            <div class="col-lg-2 con1">
              <label for="timeInB1">Time In 2: </label>
            </div>
            <div class="col-lg-2">
              <input type="number" id="timeInB1" name="timeInB1" value=0>
            </div>
            <div class="col-lg-2 con1">
              <label for="timeOutB1">Time Out 2: </label>
            </div>
            <div class="col-lg-2">
              <input type="number" id="timeOutB1" name="timeOutB1" value=0>
            </div>
            <div class="col-lg-2 con1">
              <label for="pickUp1">Pick Up: </label>
            </div>
            <div class="col-lg-2">
              <input type="number" id="pickUp1" name="pickUp1" value=0>
            </div>
            <div class="col-lg-2 con1">
              <label for="remarks1">Remarks: </label>
            </div>
            <div class="col-lg-2">
              <input type="text" id="remarks1" name="remarks1" value=''>
            </div>
            <div class="col-lg-2 con1">
              <label for="absent1">Absence Reason: </label>
            </div>
            <div class="col-lg-2">
              <select name="absent1" id="absent1">
                <option value="none">--None--</option>
                <option value="Off">Off</option>
                <option value="Absent">Absent</option>
                <option value="Sick">Sick</option>
                <option value="Vacation">Vacation</option>
                <option value="Office">Office</option>
              </select>
            </div>

          </div>
        </div>
        <div>
          <h5>
            <button type="button" name="button" id="addButton" onClick="reply_click(1)" data-btno="1">Add Staff</button>
          </h5>
        </div>

      </div>




    </div>

    <div>
      <h5>
        <button type="button" name="button" id="addHotel">Add Hotel</button>
      </h5>
    </div>







    <input type="submit" value="Submit">





  </form>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.js"></script>
  <link href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" rel="stylesheet" />


  <script type="text/javascript">

    function reply_click(clicked_id)
    {
        var buttonNumber = clicked_id.toString();
        var divString = '<div class="item row"><div class="col-lg-2 con1"><label for="name'+buttonNumber+'">Name:</label></div><div class="col-lg-2"><select name="name'+buttonNumber+'" id="name'+buttonNumber+'"> {% for i in data[0] %} <option value="{{i.id}}">{{i.name}}</option> {% endfor %} </select></div><div class="col-lg-2 con1"><label for="timeInA'+buttonNumber+'">Time In 1:</label></div><div class="col-lg-2"><input type="number" id="timeInA'+buttonNumber+'" name="timeInA'+buttonNumber+'" value="0"></div><div class="col-lg-2 con1"><label for="timeOutA'+buttonNumber+'">Time Out 1:</label></div><div class="col-lg-2"><input type="number" id="timeOutA'+buttonNumber+'" name="timeOutA'+buttonNumber+'" value="0"></div><div class="col-lg-2 con1"><label for="timeInB'+buttonNumber+'">Time In 2:</label></div><div class="col-lg-2"><input type="number" id="timeInB'+buttonNumber+'" name="timeInB'+buttonNumber+'" value="0"></div><div class="col-lg-2 con1"><label for="timeOutB'+buttonNumber+'">Time Out 2:</label>';
        var divString2 = '</div><div class="col-lg-2"><input type="number" id="timeOutB'+buttonNumber+'" name="timeOutB'+buttonNumber+'" value="0"></div><div class="col-lg-2 con1"><label for="pickUp'+buttonNumber+'">Pick Up:</label></div><div class="col-lg-2"><input type="number" id="pickUp'+buttonNumber+'" name="pickUp'+buttonNumber+'" value="0"></div><div class="col-lg-2 con1"><label for="remarks'+buttonNumber+'">Remarks:</label></div><div class="col-lg-2"><input type="text" id="remarks'+buttonNumber+'" name="remarks'+buttonNumber+'" value=""></div><div class="col-lg-2 con1"><label for="absent'+buttonNumber+'">Absence Reason:</label></div><div class="col-lg-2"><select name="absent'+buttonNumber+'" id="absent'+buttonNumber+'"><option value="none">--None--</option><option value="Off">Off</option><option value="Absent">Absent</option><option value="Sick">Sick</option><option value="Vacation">Vacation</option><option value="Office">Office</option></select></div></div>';
        var totalDivString = divString + divString2
        var newDiv1 = $(totalDivString);

        var hotelChildNo = "#hotelChild" + buttonNumber
        var hotelDiv = $(hotelChildNo)
        console.log(buttonNumber)

        $(hotelDiv).append(newDiv1);
    }



    $(function() {
      $('#addHotel').click(function() {
        var numItems = $('.hotel').length + 1;
        var numStr = numItems.toString();
        var hotelDivS = '<div><div id="hotelChild'+numStr+'" class="hotel"><div class="firstDet row"><div class="col-lg-2 con1"><label for="hotel">Hotel:</label></div><div class="col-lg-2"><select name="hotel" id="hotel"> {% for i in data[1] %} <option value="{{i.id}}">{{i.name}}</option> {% endfor %} </select></div></div><div class="item row"><div class="col-lg-2 con1"><label for="name'+numStr+'">Name:</label></div><div class="col-lg-2"><select name="name'+numStr+'" id="name'+numStr+'"> {% for i in data[0] %} <option value="{{i.id}}">{{i.name}}</option> {% endfor %} </select></div><div class="col-lg-2 con1"><label for="timeInA'+numStr+'">Time In 1:</label></div><div class="col-lg-2"><input type="number" id="timeInA'+numStr+'" name="timeInA'+numStr+'" value="0"></div><div class="col-lg-2 con1"><label for="timeOutA'+numStr+'">Time Out 1:</label></div><div class="col-lg-2"><input type="number" id="timeOutA'+numStr+'" name="timeOutA'+numStr+'" value="0"></div><div class="col-lg-2 con1"><label for="timeInB'+numStr+'">Time In 2:</label></div><div class="col-lg-2">';
        var hotelDivs2 = '<input type="number" id="timeInB'+numStr+'" name="timeInB'+numStr+'" value="0"></div><div class="col-lg-2 con1"><label for="timeOutB1'+numStr+'">Time Out 2:</label></div><div class="col-lg-2"><input type="number" id="timeOutB'+numStr+'" name="timeOutB'+numStr+'" value="0"></div><div class="col-lg-2 con1"><label for="pickUp1'+numStr+'">Pick Up:</label></div><div class="col-lg-2"><input type="number" id="pickUp'+numStr+'" name="pickUp'+numStr+'" value="0"></div><div class="col-lg-2 con1"><label for="remarks'+numStr+'">Remarks:</label></div><div class="col-lg-2"><input type="text" id="remarks'+numStr+'" name="remarks'+numStr+'" value=""></div><div class="col-lg-2 con1"><label for="absent'+numStr+'">Absence Reason:</label></div><div class="col-lg-2"><select name="absent'+numStr+'" id="absent'+numStr+'"><option value="none">--None--</option><option value="Off">Off</option><option value="Absent">Absent</option><option value="Sick">Sick</option><option value="Vacation">Vacation</option><option value="Office">Office</option></select></div></div></div><div><h5><button type="button" name="button" id="addButton" onclick="reply_click('+numStr+')" data-btno='+numStr+'>Add Staff</button></h5></div></div>';
        var hotelDivSS = hotelDivS + hotelDivs2
        var newDiv1 = $(hotelDivSS);

        $('#masterDiv').append(newDiv1);
      });
    });


  </script>








{% include "footer.html" %}
{% endblock %}
